<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>IOQM Dashboard</title>
  <link rel="stylesheet" href="style.css">
  <script src="api_key.js"></script>
</head>
<body>
<button id="theme-toggle" class="theme-toggle">ğŸŒ™</button>
<div class="container">
  <h1> Chapter Modules</h1>
  <div class="chapters-grid" id="chapters-grid"></div>
</div>
<div class="footer-signature">
  Â© 2025 Meoponly â€” All rights reserved.<br>
  Developed with â¤ï¸ by Meoponly
</div>

<script src="data.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const chaptersGrid = document.getElementById('chapters-grid');
  chapterData.forEach(chapter => {
    const link = document.createElement('a');
    link.href = '#';
    link.className = 'chapter-card';
    link.dataset.folderId = chapter.folderId;
    link.dataset.chapterName = chapter.name;

    link.innerHTML = `
      <div class="card-header">
        <span class="chapter-tag">${chapter.id}</span>
        <h2 class="chapter-title">${chapter.name}</h2>
      </div>
      <span class="arrow">&rsaquo;</span>
    `;
    link.addEventListener('click', (e) => {
      const lec = chapter.lectureId ? '&lecture=' + chapter.lectureId : '';
      const dpp = chapter.dppId ? '&dpp=' + chapter.dppId : '';
      const notes = chapter.notesId ? '&notes=' + chapter.notesId : '';
      if (chapter.folderId) {
        window.location.href = `details.html?id=${chapter.folderId}&name=${encodeURIComponent(chapter.name)}${lec}${dpp}${notes}`;
      } else {
        e.preventDefault();
        alert('Folder not configured for ' + chapter.name);
      }
    });
    chaptersGrid.appendChild(link);
  });
});

const toggleBtn = document.getElementById('theme-toggle');
const body = document.body;
if (localStorage.getItem('theme') === 'dark') {
  body.classList.add('dark-mode');
  toggleBtn.textContent = 'â˜€ï¸';
}
toggleBtn.addEventListener('click', () => {
  body.classList.toggle('dark-mode');
  const isDark = body.classList.contains('dark-mode');
  toggleBtn.textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
  localStorage.setItem('theme', isDark ? 'dark' : 'light');
});
</script>

<script>
let tapCount=0;
const footer=document.querySelector(".footer-signature");
const popup=document.createElement("div");
popup.id="secret-popup";
popup.textContent="Hidden Credit: Built by Viraj ğŸ˜";
document.body.appendChild(popup);

footer.style.userSelect="none";
footer.style.webkitUserSelect="none";

footer.addEventListener("click",()=>{
 tapCount++;
 setTimeout(()=>tapCount=0,600);
 if(tapCount===3){
   popup.style.opacity="1";
   setTimeout(()=>{ popup.style.opacity="0"; },1600);
 }
});
</script>

</body>
</html>
